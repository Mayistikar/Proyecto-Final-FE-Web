<!-- create-product.component.html -->
<div class="container mt-5">
  <h2 class="mb-4">{{ 'MANUFACTURER_CREATE_PRODUCT_TITLE' | translate }}</h2>

  <form [formGroup]="productForm" (ngSubmit)="onSubmit()">
    <div class="row">
      <div class="col-md-6">

        <div class="mb-3">
          <label for="name" class="form-label">{{ 'PRODUCT_NAME' | translate }}</label>
          <input type="text" id="name" class="form-control" formControlName="name" placeholder="{{ 'PRODUCT_NAME_PLACEHOLDER' | translate }}" />
        </div>
        <div class="mb-3">
          <label for="description" class="form-label">{{ 'PRODUCT_DESCRIPTION' | translate }}</label>
          <textarea id="description" class="form-control" formControlName="description" placeholder="{{ 'PRODUCT_DESCRIPTION_PLACEHOLDER' | translate }}"></textarea>
        </div>
        <div class="mb-3">
          <label for="category" class="form-label">{{ 'PRODUCT_CATEGORY' | translate }}</label>
          <input id="category" class="form-control" formControlName="category" placeholder="{{ 'PRODUCT_CATEGORY_PLACEHOLDER' | translate }}" />
        </div>
        <div class="mb-3">
          <label for="price" class="form-label">{{ 'PRODUCT_PRICE' | translate }}</label>
          <input id="price" type="number" class="form-control" formControlName="price" placeholder="{{ 'PRODUCT_PRICE_PLACEHOLDER' | translate }}" />
        </div>
        <div class="mb-3">
          <label for="stock" class="form-label">{{ 'PRODUCT_STOCK' | translate }}</label>
          <input id="stock" type="number" class="form-control" formControlName="stock" placeholder="{{ 'PRODUCT_STOCK_PLACEHOLDER' | translate }}" />
        </div>
        <div class="mb-3">
          <label for="sku" class="form-label">{{ 'PRODUCT_SKU' | translate }}</label>
          <input id="sku" class="form-control" formControlName="sku" placeholder="{{ 'PRODUCT_SKU_PLACEHOLDER' | translate }}" />
        </div>
        <div class="mb-3">
          <label for="expirationDate" class="form-label">{{ 'PRODUCT_EXPIRATION_DATE' | translate }}</label>
          <input id="expirationDate" type="date" class="form-control" formControlName="expirationDate" />
        </div>
        <div class="mb-3">
          <label for="deliveryTime" class="form-label">{{ 'PRODUCT_DELIVERY_TIME' | translate }}</label>
          <input id="deliveryTime" type="number" class="form-control" formControlName="deliveryTime" placeholder="{{ 'PRODUCT_DELIVERY_TIME_PLACEHOLDER' | translate }}" />
        </div>
      </div>

      <div class="col-md-6">

        <div class="card p-3 mb-3">
          <label class="form-label">{{ 'PRODUCT_IMAGE_LABEL' | translate }}</label>
          <img
            [src]="imagePreview || 'https://assetsccp.s3.us-east-1.amazonaws.com/no_image_product.png'"
            class="img-fluid rounded mb-2 product-image"
            alt="preview"
          />
          <input type="file" class="form-control" (change)="onImageChange($event)" />
        </div>

        <div class="mb-3">
          <label for="storageConditions" class="form-label">{{ 'PRODUCT_STORAGE_CONDITIONS' | translate }}</label>
          <input id="storageConditions" class="form-control" formControlName="storageConditions" placeholder="{{ 'PRODUCT_STORAGE_PLACEHOLDER' | translate }}" />
        </div>

        <div class="mb-3">
          <label for="commercialConditions" class="form-label">{{ 'PRODUCT_COMMERCIAL_CONDITIONS' | translate }}</label>
          <input id="commercialConditions" class="form-control" formControlName="commercialConditions" placeholder="{{ 'PRODUCT_COMMERCIAL_PLACEHOLDER' | translate }}" />
        </div>

        <div class="form-check form-switch">
          <input class="form-check-input" type="checkbox" id="perishable" formControlName="perishable" />
          <label class="form-check-label" for="perishable">{{ 'PRODUCT_IS_PERISHABLE' | translate }}</label>
        </div>

        <div class="d-flex justify-content-end gap-2 mt-4">
          <button class="btn btn-secondary" style="width: 150px;" type="button" (click)="onCancel()">{{ 'BUTTON_CANCEL' | translate }}</button>
          <button class="btn btn-primary" style="width: 150px;" type="submit" [disabled]="productForm.invalid || loading">
            <ng-container *ngIf="!loading; else loadingTemplate">{{ 'BUTTON_SAVE' | translate }}</ng-container>
            <ng-template #loadingTemplate>
              <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
              {{ 'LOADING_BUTTON_TEXT' | translate }}
            </ng-template>
          </button>
        </div>
      </div>
    </div>


  </form>
</div>
