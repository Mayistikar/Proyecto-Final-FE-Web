<!-- product-detail.component.html -->
<div class="container mt-5" *ngIf="!loading; else loadingSpinner">
  <h2 class="mb-4">
    {{ 'MANUFACTURER_DASHBOARD_TITLE' | translate:{ name: product.name } }}
  </h2>

  <div class="row">
    <div class="col-md-4">
      <div class="card p-3 text-center">
        <img
          [src]="product.imageUrl || 'https://backend-service-images.s3.us-east-1.amazonaws.com/products/placeholder-image.png'"
          class="img-fluid rounded mb-3"
          alt="Product Image"
        />
        <h4>{{ product.name }}</h4>
        <p>{{ product.description }}</p>
      </div>
    </div>

    <div class="col-md-8">
      <div class="card p-4">
        <h5 class="mb-3">{{ product.name }}</h5>
        <ul class="list-group list-group-flush">
          <li class="list-group-item"><strong>{{ 'PRODUCT_NAME' | translate }}:</strong> {{ product.name }}</li>
          <li class="list-group-item"><strong>{{ 'PRODUCT_DESCRIPTION' | translate }}:</strong> {{ product.description }}</li>
          <li class="list-group-item"><strong>{{ 'PRODUCT_CATEGORY' | translate }}:</strong> {{ product.category }}</li>
          <li class="list-group-item"><strong>{{ 'PRODUCT_PRICE' | translate }}:</strong> {{ product.price }} {{ product.currency }}</li>
          <li class="list-group-item"><strong>{{ 'PRODUCT_STOCK' | translate }}:</strong> {{ product.stock }}</li>
          <li class="list-group-item"><strong>{{ 'PRODUCT_SKU' | translate }}:</strong> {{ product.sku }}</li>
          <li class="list-group-item" *ngIf="product.isPerishable">
            <strong>{{ 'PRODUCT_EXPIRATION_DATE' | translate }}:</strong> {{ product.expirationDate | date }}
          </li>
          <li class="list-group-item"><strong>{{ 'PRODUCT_DELIVERY_TIME' | translate }}:</strong> {{ product.deliveryTime }} d√≠as</li>
          <li class="list-group-item"><strong>{{ 'PRODUCT_STORAGE_CONDITIONS' | translate }}:</strong> {{ product.storageConditions }}</li>
          <li class="list-group-item"><strong>{{ 'PRODUCT_COMMERCIAL_CONDITIONS' | translate }}:</strong> {{ product.commercialConditions }}</li>
          <li class="list-group-item"><strong>{{ 'PRODUCT_WAREHOUSE' | translate }}:</strong> {{ product.warehouse }}</li>
        </ul>

        <div class="mt-4 d-flex justify-content-end gap-2">
          <button class="btn btn-secondary" (click)="cancel()">{{ 'BUTTON_CANCEL' | translate }}</button>
          <button class="btn btn-primary" (click)="editProduct()">{{ 'BUTTON_EDIT' | translate }}</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Spinner centrado bonito -->
<ng-template #loadingSpinner>
  <div class="d-flex flex-column align-items-center justify-content-center" style="height: 70vh;">
    <mat-spinner diameter="50"></mat-spinner>
    <p class="mt-3">{{ 'LOADING_BUTTON_TEXT' | translate }}</p>
  </div>
</ng-template>
