<div class="container mt-5" *ngIf="!loading && !error; else loadingOrError">
  <h2 class="mb-4">
    {{ 'SELLER_SALES_PLANS_TITLE' | translate }}
  </h2>

  <div class="row">
    <div class="col-md-4">
      <div class="card p-3 text-center">
        <img
          src="https://assetsccp.s3.us-east-1.amazonaws.com/como-hacer-plan-ventas.jpg"
          class="img-fluid rounded mb-3"
          alt="Sales Plan Image"
        />
        <h4>{{ salesPlan.name }}</h4>
        <p>{{ salesPlan.description || '-' }}</p>
      </div>
    </div>

    <div class="col-md-8">
      <div class="card p-4">
        <h5 class="mb-3">{{ salesPlan.name }}</h5>

        <ul class="list-group list-group-flush">

          <li class="list-group-item">
            <strong>{{ ('SALES_PLAN.NAME' | translate).replace('*', '') }}:</strong> {{ salesPlan.name }}
          </li>

          <li class="list-group-item">
            <strong>{{ 'SALES_PLAN.DESCRIPTION' | translate }}:</strong> {{ salesPlan.description || '-' }}
          </li>

          <li class="list-group-item">
            <strong>{{ 'SALES_PLAN.ROUTE' | translate }}:</strong>
            {{ 'SALES_PLAN.' + salesPlan.visitRoute | translate }}
          </li>

          <li class="list-group-item">
            <strong>{{ 'SALES_PLAN.STRATEGY' | translate }}:</strong>
            {{ 'SALES_PLAN.STRATEGIES.' + salesPlan.strategy | translate }}
          </li>

          <li class="list-group-item">
            <strong>{{ 'SALES_PLAN.EVENT' | translate }}:</strong>
            {{ 'SALES_PLAN.EVENTS.' + salesPlan.event | translate }}
          </li>

          <li class="list-group-item">
            <strong>{{ ('SALES_PLAN.DAILY_GOAL' | translate).replace('*', '') }}:</strong>
            {{ salesPlan.dailyGoal ? (salesPlan.dailyGoal + ' ventas diarias') : '-' }}
          </li>

          <li class="list-group-item">
            <strong>{{ ('SALES_PLAN.WEEKLY_GOAL' | translate).replace('*', '') }}:</strong>
            {{ salesPlan.weeklyGoal ? (salesPlan.weeklyGoal + ' ventas semanales') : '-' }}
          </li>

          <li class="list-group-item">
            <strong>{{ 'SALES_PLAN.START_TIME' | translate }}:</strong>
            {{ salesPlan.startTime ? (salesPlan.startTime.slice(0,5)) : '-' }}
          </li>

          <li class="list-group-item">
            <strong>{{ 'SALES_PLAN.END_TIME' | translate }}:</strong>
            {{ salesPlan.endTime ? (salesPlan.endTime.slice(0,5)) : '-' }}
          </li>

        </ul>

        <div class="mt-4 d-flex justify-content-end gap-2">
          <button class="btn btn-outline-secondary" type="button" (click)="onCancel()">
            {{ 'BUTTON_CANCEL' | translate }}
          </button>
          <button class="btn btn-primary" (click)="editPlan()">
            {{ 'BUTTON_EDIT' | translate }}
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #loadingOrError>
  <div class="d-flex flex-column align-items-center justify-content-center" style="height: 70vh;">
    <ng-container *ngIf="loading; else errorTemplate">
      <mat-spinner diameter="50"></mat-spinner>
      <p class="mt-3">{{ 'LOADING_BUTTON_TEXT' | translate }}</p>
    </ng-container>
    <ng-template #errorTemplate>
      <div class="text-center">
        <h4 class="text-danger">{{ 'SALES_PLAN.LOAD_ERROR' | translate }}</h4>
        <button class="btn btn-primary mt-3" (click)="onCancel()">{{ 'BUTTON_BACK' | translate }}</button>
      </div>
    </ng-template>
  </div>
</ng-template>
